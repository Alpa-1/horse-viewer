import{c as fe,a as m,h as E,b as ae,F as Pt,G as It,r as D,H as Dt,I as Ae,k as Ht,g as oe,f as Be,w as $,o as ye,d as ve,J as zt,K as Ut,L as wt,M as jt,e as te,N as kt,O as Nt,i as Wt,P as ce,Q as tt,R as Kt,T as Qt,S as Yt,U as J,V as pe,W as ot,X as Xt,l as se,Y as Zt,Z as Gt,$ as Jt,a0 as eo,n as to,a1 as oo,a2 as we,a3 as Te,a4 as Ne,a5 as Le,j as le,a6 as no,a7 as nt,m as xt,q as lo,v as Ct,_ as qt,y as he,z as We,A as ne,B as Z,a8 as Ke,a9 as St,aa as Qe,ab as Bt,x as ao,ac as Oe,ad as ro}from"./index.8a9e22e6.js";import{b as io,a as uo,h as so}from"./scroll.30d38334.js";var co=fe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=m(()=>{const a=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${a.length!==0?" "+a:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>E("div",{class:n.value},ae(t.default))}}),lt=fe({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=m(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>E("div",{class:n.value},ae(t.default))}});const Ee={dark:{type:Boolean,default:null}};function _e(e,t){return m(()=>e.dark===null?t.dark.isActive:e.dark)}var Ye=fe({name:"QItem",props:{...Ee,...Pt,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=oe(),o=_e(e,a),{hasLink:l,linkAttrs:r,linkClass:d,linkTag:y,navigateOnClick:p}=It(),i=D(null),b=D(null),T=m(()=>e.clickable===!0||l.value===!0||e.tag==="label"),x=m(()=>e.disable!==!0&&T.value===!0),k=m(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(o.value===!0?" q-item--dark":"")+(l.value===!0&&e.active===null?d.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(x.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),P=m(()=>{if(e.insetLevel===void 0)return null;const A=a.lang.rtl===!0?"Right":"Left";return{["padding"+A]:16+e.insetLevel*56+"px"}});function V(A){x.value===!0&&(b.value!==null&&(A.qKeyEvent!==!0&&document.activeElement===i.value?b.value.focus():document.activeElement===b.value&&i.value.focus()),p(A))}function C(A){if(x.value===!0&&Dt(A,13)===!0){Ae(A),A.qKeyEvent=!0;const j=new MouseEvent("click",A);j.qKeyEvent=!0,i.value.dispatchEvent(j)}n("keyup",A)}function w(){const A=Ht(t.default,[]);return x.value===!0&&A.unshift(E("div",{class:"q-focus-helper",tabindex:-1,ref:b})),A}return()=>{const A={ref:i,class:k.value,style:P.value,role:"listitem",onClick:V,onKeyup:C};return x.value===!0?(A.tabindex=e.tabindex||"0",Object.assign(A,r.value)):T.value===!0&&(A["aria-disabled"]="true"),E(y.value,A,w())}}}),Mt=fe({name:"QList",props:{...Ee,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=oe(),a=_e(e,n.proxy.$q),o=m(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>E(e.tag,{class:o.value},ae(t.default))}});function fo({validate:e,resetValidation:t,requiresQForm:n}){const a=Be(zt,!1);if(a!==!1){const{props:o,proxy:l}=oe();Object.assign(l,{validate:e,resetValidation:t}),$(()=>o.disable,r=>{r===!0?(typeof t=="function"&&t(),a.unbindComponent(l)):a.bindComponent(l)}),ye(()=>{o.disable!==!0&&a.bindComponent(l)}),ve(()=>{o.disable!==!0&&a.unbindComponent(l)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const at=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,rt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,it=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ke=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,xe=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Pe={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>at.test(e),hexaColor:e=>rt.test(e),hexOrHexaColor:e=>it.test(e),rgbColor:e=>ke.test(e),rgbaColor:e=>xe.test(e),rgbOrRgbaColor:e=>ke.test(e)||xe.test(e),hexOrRgbColor:e=>at.test(e)||ke.test(e),hexaOrRgbaColor:e=>rt.test(e)||xe.test(e),anyColor:e=>it.test(e)||ke.test(e)||xe.test(e)},vo=[!0,!1,"ondemand"],ho={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>vo.includes(e)}};function mo(e,t){const{props:n,proxy:a}=oe(),o=D(!1),l=D(null),r=D(null);fo({validate:k,resetValidation:x});let d=0,y;const p=m(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),i=m(()=>n.disable!==!0&&p.value===!0),b=m(()=>n.error===!0||o.value===!0),T=m(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:l.value);$(()=>n.modelValue,()=>{P()}),$(()=>n.reactiveRules,C=>{C===!0?y===void 0&&(y=$(()=>n.rules,()=>{P(!0)})):y!==void 0&&(y(),y=void 0)},{immediate:!0}),$(e,C=>{C===!0?r.value===null&&(r.value=!1):r.value===!1&&(r.value=!0,i.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&V())});function x(){d++,t.value=!1,r.value=null,o.value=!1,l.value=null,V.cancel()}function k(C=n.modelValue){if(i.value!==!0)return!0;const w=++d,A=t.value!==!0?()=>{r.value=!0}:()=>{},j=(R,O)=>{R===!0&&A(),o.value=R,l.value=O||null,t.value=!1},N=[];for(let R=0;R<n.rules.length;R++){const O=n.rules[R];let z;if(typeof O=="function"?z=O(C,Pe):typeof O=="string"&&Pe[O]!==void 0&&(z=Pe[O](C)),z===!1||typeof z=="string")return j(!0,z),!1;z!==!0&&z!==void 0&&N.push(z)}return N.length===0?(j(!1),!0):(t.value=!0,Promise.all(N).then(R=>{if(R===void 0||Array.isArray(R)===!1||R.length===0)return w===d&&j(!1),!0;const O=R.find(z=>z===!1||typeof z=="string");return w===d&&j(O!==void 0,O),O===void 0},R=>(w===d&&(console.error(R),j(!0)),!1)))}function P(C){i.value===!0&&n.lazyRules!=="ondemand"&&(r.value===!0||n.lazyRules!==!0&&C!==!0)&&V()}const V=Ut(k,0);return ve(()=>{y!==void 0&&y(),V.cancel()}),Object.assign(a,{resetValidation:x,validate:k}),wt(a,"hasError",()=>b.value),{isDirtyModel:r,hasRules:p,hasError:b,errorMessage:T,validate:k,resetValidation:x}}const ut=/^on[A-Z]/;function go(e,t){const n={listeners:D({}),attributes:D({})};function a(){const o={},l={};for(const r in e)r!=="class"&&r!=="style"&&ut.test(r)===!1&&(o[r]=e[r]);for(const r in t.props)ut.test(r)===!0&&(l[r]=t.props[r]);n.attributes.value=o,n.listeners.value=l}return jt(a),a(),n}let Ie,Ce=0;const K=new Array(256);for(let e=0;e<256;e++)K[e]=(e+256).toString(16).substring(1);const po=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let a=t;a>0;a--)n.push(Math.floor(Math.random()*256));return n}})(),st=4096;function yo(){(Ie===void 0||Ce+16>st)&&(Ce=0,Ie=po(st));const e=Array.prototype.slice.call(Ie,Ce,Ce+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,K[e[0]]+K[e[1]]+K[e[2]]+K[e[3]]+"-"+K[e[4]]+K[e[5]]+"-"+K[e[6]]+K[e[7]]+"-"+K[e[8]]+K[e[9]]+"-"+K[e[10]]+K[e[11]]+K[e[12]]+K[e[13]]+K[e[14]]+K[e[15]]}let Xe=[],bo=[];function At(e){bo.length===0?e():Xe.push(e)}function wo(e){Xe=Xe.filter(t=>t!==e)}function Ze(e){return e===void 0?`f_${yo()}`:e}function Ge(e){return e!=null&&(""+e).length!==0}const ko={...Ee,...ho,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},xo=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function Co(){const{props:e,attrs:t,proxy:n,vnode:a}=oe();return{isDark:_e(e,n.$q),editable:m(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:D(!1),focused:D(!1),hasPopupOpen:!1,splitAttrs:go(t,a),targetUid:D(Ze(e.for)),rootRef:D(null),targetRef:D(null),controlRef:D(null)}}function qo(e){const{props:t,emit:n,slots:a,attrs:o,proxy:l}=oe(),{$q:r}=l;let d=null;e.hasValue===void 0&&(e.hasValue=m(()=>Ge(t.modelValue))),e.emitValue===void 0&&(e.emitValue=s=>{n("update:modelValue",s)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:f,onFocusout:u}),Object.assign(e,{clearValue:g,onControlFocusin:f,onControlFocusout:u,focus:O}),e.computedCounter===void 0&&(e.computedCounter=m(()=>{if(t.counter!==!1){const s=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,M=t.maxlength!==void 0?t.maxlength:t.maxValues;return s+(M!==void 0?" / "+M:"")}}));const{isDirtyModel:y,hasRules:p,hasError:i,errorMessage:b,resetValidation:T}=mo(e.focused,e.innerLoading),x=e.floatingLabel!==void 0?m(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):m(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),k=m(()=>t.bottomSlots===!0||t.hint!==void 0||p.value===!0||t.counter===!0||t.error!==null),P=m(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),V=m(()=>`q-field row no-wrap items-start q-field--${P.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(x.value===!0?" q-field--float":"")+(w.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(i.value===!0?" q-field--error":"")+(i.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&k.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),C=m(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(i.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),w=m(()=>t.labelSlot===!0||t.label!==void 0),A=m(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&i.value!==!0?` text-${t.labelColor}`:"")),j=m(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:x.value,modelValue:t.modelValue,emitValue:e.emitValue})),N=m(()=>{const s={for:e.targetUid.value};return t.disable===!0?s["aria-disabled"]="true":t.readonly===!0&&(s["aria-readonly"]="true"),s});$(()=>t.for,s=>{e.targetUid.value=Ze(s)});function R(){const s=document.activeElement;let M=e.targetRef!==void 0&&e.targetRef.value;M&&(s===null||s.id!==e.targetUid.value)&&(M.hasAttribute("tabindex")===!0||(M=M.querySelector("[tabindex]")),M&&M!==s&&M.focus({preventScroll:!0}))}function O(){At(R)}function z(){wo(R);const s=document.activeElement;s!==null&&e.rootRef.value.contains(s)&&s.blur()}function f(s){d!==null&&(clearTimeout(d),d=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",s))}function u(s,M){d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",s)),M!==void 0&&M())})}function g(s){Ae(s),r.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),te(()=>{T(),r.platform.is.mobile!==!0&&(y.value=!1)})}function h(){const s=[];return a.prepend!==void 0&&s.push(E("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ce},a.prepend())),s.push(E("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},q())),i.value===!0&&t.noErrorIcon===!1&&s.push(L("error",[E(tt,{name:r.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?s.push(L("inner-loading-append",a.loading!==void 0?a.loading():[E(Kt,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&s.push(L("inner-clearable-append",[E(tt,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||r.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:g})])),a.append!==void 0&&s.push(E("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ce},a.append())),e.getInnerAppend!==void 0&&s.push(L("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&s.push(e.getControlChild()),s}function q(){const s=[];return t.prefix!==void 0&&t.prefix!==null&&s.push(E("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&s.push(e.getShadowControl()),e.getControl!==void 0?s.push(e.getControl()):a.rawControl!==void 0?s.push(a.rawControl()):a.control!==void 0&&s.push(E("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},a.control(j.value))),w.value===!0&&s.push(E("div",{class:A.value},ae(a.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&s.push(E("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),s.concat(ae(a.default))}function S(){let s,M;i.value===!0?b.value!==null?(s=[E("div",{role:"alert"},b.value)],M=`q--slot-error-${b.value}`):(s=ae(a.error),M="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(s=[E("div",t.hint)],M=`q--slot-hint-${t.hint}`):(s=ae(a.hint),M="q--slot-hint"));const Q=t.counter===!0||a.counter!==void 0;if(t.hideBottomSpace===!0&&Q===!1&&s===void 0)return;const F=E("div",{key:M,class:"q-field__messages col"},s);return E("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:ce},[t.hideBottomSpace===!0?F:E(Qt,{name:"q-transition--field-message"},()=>F),Q===!0?E("div",{class:"q-field__counter"},a.counter!==void 0?a.counter():e.computedCounter.value):null])}function L(s,M){return M===null?null:E("div",{key:s,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},M)}let B=!1;return kt(()=>{B=!0}),Nt(()=>{B===!0&&t.autofocus===!0&&l.focus()}),ye(()=>{Wt.value===!0&&t.for===void 0&&(e.targetUid.value=Ze()),t.autofocus===!0&&l.focus()}),ve(()=>{d!==null&&clearTimeout(d)}),Object.assign(l,{focus:O,blur:z}),function(){const M=e.getControl===void 0&&a.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...N.value}:N.value;return E("label",{ref:e.rootRef,class:[V.value,o.class],style:o.style,...M},[a.before!==void 0?E("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ce},a.before()):null,E("div",{class:"q-field__inner relative-position col self-stretch"},[E("div",{ref:e.controlRef,class:C.value,tabindex:-1,...e.controlEvents},h()),k.value===!0?S():null]),a.after!==void 0?E("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ce},a.after()):null])}}const dt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Me={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Et=Object.keys(Me);Et.forEach(e=>{Me[e].regex=new RegExp(Me[e].pattern)});const So=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Et.join("")+"])|(.)","g"),ct=/[.*+?^${}()|[\]\\]/g,U=String.fromCharCode(1),Bo={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Mo(e,t,n,a){let o,l,r,d,y,p;const i=D(null),b=D(x());function T(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}$(()=>e.type+e.autogrow,P),$(()=>e.mask,f=>{if(f!==void 0)V(b.value,!0);else{const u=O(b.value);P(),e.modelValue!==u&&t("update:modelValue",u)}}),$(()=>e.fillMask+e.reverseFillMask,()=>{i.value===!0&&V(b.value,!0)}),$(()=>e.unmaskedValue,()=>{i.value===!0&&V(b.value)});function x(){if(P(),i.value===!0){const f=N(O(e.modelValue));return e.fillMask!==!1?z(f):f}return e.modelValue}function k(f){if(f<o.length)return o.slice(-f);let u="",g=o;const h=g.indexOf(U);if(h>-1){for(let q=f-g.length;q>0;q--)u+=U;g=g.slice(0,h)+u+g.slice(h)}return g}function P(){if(i.value=e.mask!==void 0&&e.mask.length!==0&&T(),i.value===!1){d=void 0,o="",l="";return}const f=dt[e.mask]===void 0?e.mask:dt[e.mask],u=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",g=u.replace(ct,"\\$&"),h=[],q=[],S=[];let L=e.reverseFillMask===!0,B="",s="";f.replace(So,(H,c,I,ee,X)=>{if(ee!==void 0){const W=Me[ee];S.push(W),s=W.negate,L===!0&&(q.push("(?:"+s+"+)?("+W.pattern+"+)?(?:"+s+"+)?("+W.pattern+"+)?"),L=!1),q.push("(?:"+s+"+)?("+W.pattern+")?")}else if(I!==void 0)B="\\"+(I==="\\"?"":I),S.push(I),h.push("([^"+B+"]+)?"+B+"?");else{const W=c!==void 0?c:X;B=W==="\\"?"\\\\\\\\":W.replace(ct,"\\\\$&"),S.push(W),h.push("([^"+B+"]+)?"+B+"?")}});const M=new RegExp("^"+h.join("")+"("+(B===""?".":"[^"+B+"]")+"+)?"+(B===""?"":"["+B+"]*")+"$"),Q=q.length-1,F=q.map((H,c)=>c===0&&e.reverseFillMask===!0?new RegExp("^"+g+"*"+H):c===Q?new RegExp("^"+H+"("+(s===""?".":s)+"+)?"+(e.reverseFillMask===!0?"$":g+"*")):new RegExp("^"+H));r=S,d=H=>{const c=M.exec(e.reverseFillMask===!0?H:H.slice(0,S.length+1));c!==null&&(H=c.slice(1).join(""));const I=[],ee=F.length;for(let X=0,W=H;X<ee;X++){const re=F[X].exec(W);if(re===null)break;W=W.slice(re.shift().length),I.push(...re)}return I.length!==0?I.join(""):H},o=S.map(H=>typeof H=="string"?H:U).join(""),l=o.split(U).join(u)}function V(f,u,g){const h=a.value,q=h.selectionEnd,S=h.value.length-q,L=O(f);u===!0&&P();const B=N(L),s=e.fillMask!==!1?z(B):B,M=b.value!==s;h.value!==s&&(h.value=s),M===!0&&(b.value=s),document.activeElement===h&&te(()=>{if(s===l){const F=e.reverseFillMask===!0?l.length:0;h.setSelectionRange(F,F,"forward");return}if(g==="insertFromPaste"&&e.reverseFillMask!==!0){const F=h.selectionEnd;let H=q-1;for(let c=y;c<=H&&c<F;c++)o[c]!==U&&H++;w.right(h,H);return}if(["deleteContentBackward","deleteContentForward"].indexOf(g)>-1){const F=e.reverseFillMask===!0?q===0?s.length>B.length?1:0:Math.max(0,s.length-(s===l?0:Math.min(B.length,S)+1))+1:q;h.setSelectionRange(F,F,"forward");return}if(e.reverseFillMask===!0)if(M===!0){const F=Math.max(0,s.length-(s===l?0:Math.min(B.length,S+1)));F===1&&q===1?h.setSelectionRange(F,F,"forward"):w.rightReverse(h,F)}else{const F=s.length-S;h.setSelectionRange(F,F,"backward")}else if(M===!0){const F=Math.max(0,o.indexOf(U),Math.min(B.length,q)-1);w.right(h,F)}else{const F=q-1;w.right(h,F)}});const Q=e.unmaskedValue===!0?O(s):s;String(e.modelValue)!==Q&&n(Q,!0)}function C(f,u,g){const h=N(O(f.value));u=Math.max(0,o.indexOf(U),Math.min(h.length,u)),y=u,f.setSelectionRange(u,g,"forward")}const w={left(f,u){const g=o.slice(u-1).indexOf(U)===-1;let h=Math.max(0,u-1);for(;h>=0;h--)if(o[h]===U){u=h,g===!0&&u++;break}if(h<0&&o[u]!==void 0&&o[u]!==U)return w.right(f,0);u>=0&&f.setSelectionRange(u,u,"backward")},right(f,u){const g=f.value.length;let h=Math.min(g,u+1);for(;h<=g;h++)if(o[h]===U){u=h;break}else o[h-1]===U&&(u=h);if(h>g&&o[u-1]!==void 0&&o[u-1]!==U)return w.left(f,g);f.setSelectionRange(u,u,"forward")},leftReverse(f,u){const g=k(f.value.length);let h=Math.max(0,u-1);for(;h>=0;h--)if(g[h-1]===U){u=h;break}else if(g[h]===U&&(u=h,h===0))break;if(h<0&&g[u]!==void 0&&g[u]!==U)return w.rightReverse(f,0);u>=0&&f.setSelectionRange(u,u,"backward")},rightReverse(f,u){const g=f.value.length,h=k(g),q=h.slice(0,u+1).indexOf(U)===-1;let S=Math.min(g,u+1);for(;S<=g;S++)if(h[S-1]===U){u=S,u>0&&q===!0&&u--;break}if(S>g&&h[u-1]!==void 0&&h[u-1]!==U)return w.leftReverse(f,g);f.setSelectionRange(u,u,"forward")}};function A(f){t("click",f),p=void 0}function j(f){if(t("keydown",f),Yt(f)===!0)return;const u=a.value,g=u.selectionStart,h=u.selectionEnd;if(f.shiftKey||(p=void 0),f.keyCode===37||f.keyCode===39){f.shiftKey&&p===void 0&&(p=u.selectionDirection==="forward"?g:h);const q=w[(f.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(f.preventDefault(),q(u,p===g?h:g),f.shiftKey){const S=u.selectionStart;u.setSelectionRange(Math.min(p,S),Math.max(p,S),"forward")}}else f.keyCode===8&&e.reverseFillMask!==!0&&g===h?(w.left(u,g),u.setSelectionRange(u.selectionStart,h,"backward")):f.keyCode===46&&e.reverseFillMask===!0&&g===h&&(w.rightReverse(u,h),u.setSelectionRange(g,u.selectionEnd,"forward"))}function N(f){if(f==null||f==="")return"";if(e.reverseFillMask===!0)return R(f);const u=r;let g=0,h="";for(let q=0;q<u.length;q++){const S=f[g],L=u[q];if(typeof L=="string")h+=L,S===L&&g++;else if(S!==void 0&&L.regex.test(S))h+=L.transform!==void 0?L.transform(S):S,g++;else return h}return h}function R(f){const u=r,g=o.indexOf(U);let h=f.length-1,q="";for(let S=u.length-1;S>=0&&h>-1;S--){const L=u[S];let B=f[h];if(typeof L=="string")q=L+q,B===L&&h--;else if(B!==void 0&&L.regex.test(B))do q=(L.transform!==void 0?L.transform(B):B)+q,h--,B=f[h];while(g===S&&B!==void 0&&L.regex.test(B));else return q}return q}function O(f){return typeof f!="string"||d===void 0?typeof f=="number"?d(""+f):f:d(f)}function z(f){return l.length-f.length<=0?f:e.reverseFillMask===!0&&f.length!==0?l.slice(0,-f.length)+f:f+l.slice(f.length)}return{innerValue:b,hasMask:i,moveCursorForPaste:C,updateMaskValue:V,onMaskedKeydown:j,onMaskedClick:A}}const Ao={name:String};function Eo(e){return m(()=>e.name||e.for)}function _o(e,t){function n(){const a=e.modelValue;try{const o="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(a)===a&&("length"in a?Array.from(a):[a]).forEach(l=>{o.items.add(l)}),{files:o.files}}catch{return{files:void 0}}}return t===!0?m(()=>{if(e.type==="file")return n()}):m(n)}const Vo=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Ro=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,$o=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Fo=/[a-z0-9_ -]$/i;function To(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(J.is.firefox===!0?Fo.test(n.data)===!1:Vo.test(n.data)===!0||Ro.test(n.data)===!0||$o.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var Lo=fe({name:"QInput",inheritAttrs:!1,props:{...ko,...Bo,...Ao,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...xo,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:a}=oe(),{$q:o}=a,l={};let r=NaN,d,y,p=null,i;const b=D(null),T=Eo(e),{innerValue:x,hasMask:k,moveCursorForPaste:P,updateMaskValue:V,onMaskedKeydown:C,onMaskedClick:w}=Mo(e,t,B,b),A=_o(e,!0),j=m(()=>Ge(x.value)),N=To(S),R=Co(),O=m(()=>e.type==="textarea"||e.autogrow===!0),z=m(()=>O.value===!0||["text","search","url","tel","password"].includes(e.type)),f=m(()=>{const c={...R.splitAttrs.listeners.value,onInput:S,onPaste:q,onChange:M,onBlur:Q,onFocus:pe};return c.onCompositionstart=c.onCompositionupdate=c.onCompositionend=N,k.value===!0&&(c.onKeydown=C,c.onClick=w),e.autogrow===!0&&(c.onAnimationend=L),c}),u=m(()=>{const c={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:T.value,...R.splitAttrs.attributes.value,id:R.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return O.value===!1&&(c.type=e.type),e.autogrow===!0&&(c.rows=1),c});$(()=>e.type,()=>{b.value&&(b.value.value=e.modelValue)}),$(()=>e.modelValue,c=>{if(k.value===!0){if(y===!0&&(y=!1,String(c)===r))return;V(c)}else x.value!==c&&(x.value=c,e.type==="number"&&l.hasOwnProperty("value")===!0&&(d===!0?d=!1:delete l.value));e.autogrow===!0&&te(s)}),$(()=>e.autogrow,c=>{c===!0?te(s):b.value!==null&&n.rows>0&&(b.value.style.height="auto")}),$(()=>e.dense,()=>{e.autogrow===!0&&te(s)});function g(){At(()=>{const c=document.activeElement;b.value!==null&&b.value!==c&&(c===null||c.id!==R.targetUid.value)&&b.value.focus({preventScroll:!0})})}function h(){b.value!==null&&b.value.select()}function q(c){if(k.value===!0&&e.reverseFillMask!==!0){const I=c.target;P(I,I.selectionStart,I.selectionEnd)}t("paste",c)}function S(c){if(!c||!c.target)return;if(e.type==="file"){t("update:modelValue",c.target.files);return}const I=c.target.value;if(c.target.qComposing===!0){l.value=I;return}if(k.value===!0)V(I,!1,c.inputType);else if(B(I),z.value===!0&&c.target===document.activeElement){const{selectionStart:ee,selectionEnd:X}=c.target;ee!==void 0&&X!==void 0&&te(()=>{c.target===document.activeElement&&I.indexOf(c.target.value)===0&&c.target.setSelectionRange(ee,X)})}e.autogrow===!0&&s()}function L(c){t("animationend",c),s()}function B(c,I){i=()=>{p=null,e.type!=="number"&&l.hasOwnProperty("value")===!0&&delete l.value,e.modelValue!==c&&r!==c&&(r=c,I===!0&&(y=!0),t("update:modelValue",c),te(()=>{r===c&&(r=NaN)})),i=void 0},e.type==="number"&&(d=!0,l.value=c),e.debounce!==void 0?(p!==null&&clearTimeout(p),l.value=c,p=setTimeout(i,e.debounce)):i()}function s(){requestAnimationFrame(()=>{const c=b.value;if(c!==null){const I=c.parentNode.style,{scrollTop:ee}=c,{overflowY:X,maxHeight:W}=o.platform.is.firefox===!0?{}:window.getComputedStyle(c),re=X!==void 0&&X!=="scroll";re===!0&&(c.style.overflowY="hidden"),I.marginBottom=c.scrollHeight-1+"px",c.style.height="1px",c.style.height=c.scrollHeight+"px",re===!0&&(c.style.overflowY=parseInt(W,10)<c.scrollHeight?"auto":"hidden"),I.marginBottom="",c.scrollTop=ee}})}function M(c){N(c),p!==null&&(clearTimeout(p),p=null),i!==void 0&&i(),t("change",c.target.value)}function Q(c){c!==void 0&&pe(c),p!==null&&(clearTimeout(p),p=null),i!==void 0&&i(),d=!1,y=!1,delete l.value,e.type!=="file"&&setTimeout(()=>{b.value!==null&&(b.value.value=x.value!==void 0?x.value:"")})}function F(){return l.hasOwnProperty("value")===!0?l.value:x.value!==void 0?x.value:""}ve(()=>{Q()}),ye(()=>{e.autogrow===!0&&s()}),Object.assign(R,{innerValue:x,fieldClass:m(()=>`q-${O.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:m(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:b,emitValue:B,hasValue:j,floatingLabel:m(()=>j.value===!0&&(e.type!=="number"||isNaN(x.value)===!1)||Ge(e.displayValue)),getControl:()=>E(O.value===!0?"textarea":"input",{ref:b,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...u.value,...f.value,...e.type!=="file"?{value:F()}:A.value}),getShadowControl:()=>E("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(O.value===!0?"":" text-no-wrap")},[E("span",{class:"invisible"},F()),E("span",e.shadowText)])});const H=qo(R);return Object.assign(a,{focus:g,select:h,getNativeElement:()=>b.value}),wt(a,"nativeEl",()=>b.value),H}});function Oo(e,t,n){let a;function o(){a!==void 0&&(ot.remove(a),a=void 0)}return ve(()=>{e.value===!0&&o()}),{removeFromHistory:o,addToHistory(){a={condition:()=>n.value===!0,handler:t},ot.add(a)}}}const Po={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Io=["beforeShow","show","beforeHide","hide"];function Do({showing:e,canShow:t,hideOnRouteChange:n,handleShow:a,handleHide:o,processOnMount:l}){const r=oe(),{props:d,emit:y,proxy:p}=r;let i;function b(w){e.value===!0?k(w):T(w)}function T(w){if(d.disable===!0||w!==void 0&&w.qAnchorHandled===!0||t!==void 0&&t(w)!==!0)return;const A=d["onUpdate:modelValue"]!==void 0;A===!0&&(y("update:modelValue",!0),i=w,te(()=>{i===w&&(i=void 0)})),(d.modelValue===null||A===!1)&&x(w)}function x(w){e.value!==!0&&(e.value=!0,y("beforeShow",w),a!==void 0?a(w):y("show",w))}function k(w){if(d.disable===!0)return;const A=d["onUpdate:modelValue"]!==void 0;A===!0&&(y("update:modelValue",!1),i=w,te(()=>{i===w&&(i=void 0)})),(d.modelValue===null||A===!1)&&P(w)}function P(w){e.value!==!1&&(e.value=!1,y("beforeHide",w),o!==void 0?o(w):y("hide",w))}function V(w){d.disable===!0&&w===!0?d["onUpdate:modelValue"]!==void 0&&y("update:modelValue",!1):w===!0!==e.value&&(w===!0?x:P)(i)}$(()=>d.modelValue,V),n!==void 0&&Xt(r)===!0&&$(()=>p.$route.fullPath,()=>{n.value===!0&&e.value===!0&&k()}),l===!0&&ye(()=>{V(d.modelValue)});const C={show:T,hide:k,toggle:b};return Object.assign(p,C),C}let me=0,De,He,ge,ze=!1,ft,vt,ht,de=null;function Ho(e){zo(e)&&Ae(e)}function zo(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=Zt(e),n=e.shiftKey&&!e.deltaX,a=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),o=n||a?e.deltaY:e.deltaX;for(let l=0;l<t.length;l++){const r=t[l];if(so(r,a))return a?o<0&&r.scrollTop===0?!0:o>0&&r.scrollTop+r.clientHeight===r.scrollHeight:o<0&&r.scrollLeft===0?!0:o>0&&r.scrollLeft+r.clientWidth===r.scrollWidth}return!0}function mt(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function qe(e){ze!==!0&&(ze=!0,requestAnimationFrame(()=>{ze=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:a}=document.scrollingElement;(ge===void 0||t!==window.innerHeight)&&(ge=n-t,document.scrollingElement.scrollTop=a),a>ge&&(document.scrollingElement.scrollTop-=Math.ceil((a-ge)/8))}))}function gt(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:a,overflowX:o}=window.getComputedStyle(t);De=io(window),He=uo(window),ft=t.style.left,vt=t.style.top,ht=window.location.href,t.style.left=`-${De}px`,t.style.top=`-${He}px`,o!=="hidden"&&(o==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),a!=="hidden"&&(a==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,J.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",qe,se.passiveCapture),window.visualViewport.addEventListener("scroll",qe,se.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",mt,se.passiveCapture))}J.is.desktop===!0&&J.is.mac===!0&&window[`${e}EventListener`]("wheel",Ho,se.notPassive),e==="remove"&&(J.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",qe,se.passiveCapture),window.visualViewport.removeEventListener("scroll",qe,se.passiveCapture)):window.removeEventListener("scroll",mt,se.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=ft,t.style.top=vt,window.location.href===ht&&window.scrollTo(De,He),ge=void 0)}function Uo(e){let t="add";if(e===!0){if(me++,de!==null){clearTimeout(de),de=null;return}if(me>1)return}else{if(me===0||(me--,me>0))return;if(t="remove",J.is.ios===!0&&J.is.nativeMobile===!0){de!==null&&clearTimeout(de),de=setTimeout(()=>{gt(t),de=null},100);return}}gt(t)}function jo(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Uo(t))}}}function No(){let e=null;const t=oe();function n(){e!==null&&(clearTimeout(e),e=null)}return kt(n),ve(n),{removeTimeout:n,registerTimeout(a,o){n(),Gt(t)===!1&&(e=setTimeout(a,o))}}}const Je={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Wo=Object.keys(Je);Je.all=!0;function pt(e){const t={};for(const n of Wo)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?Je:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const Ko=["INPUT","TEXTAREA"];function yt(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&Ko.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function Qo(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Jt.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function Ue(e,t,n){const a=Ne(e);let o,l=a.left-t.event.x,r=a.top-t.event.y,d=Math.abs(l),y=Math.abs(r);const p=t.direction;p.horizontal===!0&&p.vertical!==!0?o=l<0?"left":"right":p.horizontal!==!0&&p.vertical===!0?o=r<0?"up":"down":p.up===!0&&r<0?(o="up",d>y&&(p.left===!0&&l<0?o="left":p.right===!0&&l>0&&(o="right"))):p.down===!0&&r>0?(o="down",d>y&&(p.left===!0&&l<0?o="left":p.right===!0&&l>0&&(o="right"))):p.left===!0&&l<0?(o="left",d<y&&(p.up===!0&&r<0?o="up":p.down===!0&&r>0&&(o="down"))):p.right===!0&&l>0&&(o="right",d<y&&(p.up===!0&&r<0?o="up":p.down===!0&&r>0&&(o="down")));let i=!1;if(o===void 0&&n===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};o=t.event.lastDir,i=!0,o==="left"||o==="right"?(a.left-=l,d=0,l=0):(a.top-=r,y=0,r=0)}return{synthetic:i,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:a,direction:o,isFirst:t.event.isFirst,isFinal:n===!0,duration:Date.now()-t.event.time,distance:{x:d,y},offset:{x:l,y:r},delta:{x:a.left-t.event.lastX,y:a.top-t.event.lastY}}}}let Yo=0;var je=eo({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(n.mouse!==!0&&J.has.touch!==!0)return;function a(l,r){n.mouse===!0&&r===!0?Ae(l):(n.stop===!0&&pe(l),n.prevent===!0&&ce(l))}const o={uid:"qvtp_"+Yo++,handler:t,modifiers:n,direction:pt(n),noop:to,mouseStart(l){yt(l,o)&&oo(l)&&(we(o,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),o.start(l,!0))},touchStart(l){if(yt(l,o)){const r=l.target;we(o,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),o.start(l)}},start(l,r){if(J.is.firefox===!0&&Te(e,!0),o.lastEvt=l,r===!0||n.stop===!0){if(o.direction.all!==!0&&(r!==!0||o.modifiers.mouseAllDir!==!0&&o.modifiers.mousealldir!==!0)){const p=l.type.indexOf("mouse")>-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&ce(p),l.cancelBubble===!0&&pe(p),Object.assign(p,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[o.uid]:l.qClonedBy.concat(o.uid)}),o.initialEvent={target:l.target,event:p}}pe(l)}const{left:d,top:y}=Ne(l);o.event={x:d,y,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:d,lastY:y}},move(l){if(o.event===void 0)return;const r=Ne(l),d=r.left-o.event.x,y=r.top-o.event.y;if(d===0&&y===0)return;o.lastEvt=l;const p=o.event.mouse===!0,i=()=>{a(l,p);let x;n.preserveCursor!==!0&&n.preservecursor!==!0&&(x=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),p===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Qo(),o.styleCleanup=k=>{if(o.styleCleanup=void 0,x!==void 0&&(document.documentElement.style.cursor=x),document.body.classList.remove("non-selectable"),p===!0){const P=()=>{document.body.classList.remove("no-pointer-events--children")};k!==void 0?setTimeout(()=>{P(),k()},50):P()}else k!==void 0&&k()}};if(o.event.detected===!0){o.event.isFirst!==!0&&a(l,o.event.mouse);const{payload:x,synthetic:k}=Ue(l,o,!1);x!==void 0&&(o.handler(x)===!1?o.end(l):(o.styleCleanup===void 0&&o.event.isFirst===!0&&i(),o.event.lastX=x.position.left,o.event.lastY=x.position.top,o.event.lastDir=k===!0?void 0:x.direction,o.event.isFirst=!1));return}if(o.direction.all===!0||p===!0&&(o.modifiers.mouseAllDir===!0||o.modifiers.mousealldir===!0)){i(),o.event.detected=!0,o.move(l);return}const b=Math.abs(d),T=Math.abs(y);b!==T&&(o.direction.horizontal===!0&&b>T||o.direction.vertical===!0&&b<T||o.direction.up===!0&&b<T&&y<0||o.direction.down===!0&&b<T&&y>0||o.direction.left===!0&&b>T&&d<0||o.direction.right===!0&&b>T&&d>0?(o.event.detected=!0,o.move(l)):o.end(l,!0))},end(l,r){if(o.event!==void 0){if(Le(o,"temp"),J.is.firefox===!0&&Te(e,!1),r===!0)o.styleCleanup!==void 0&&o.styleCleanup(),o.event.detected!==!0&&o.initialEvent!==void 0&&o.initialEvent.target.dispatchEvent(o.initialEvent.event);else if(o.event.detected===!0){o.event.isFirst===!0&&o.handler(Ue(l===void 0?o.lastEvt:l,o).payload);const{payload:d}=Ue(l===void 0?o.lastEvt:l,o,!0),y=()=>{o.handler(d)};o.styleCleanup!==void 0?o.styleCleanup(y):y()}o.event=void 0,o.initialEvent=void 0,o.lastEvt=void 0}}};if(e.__qtouchpan=o,n.mouse===!0){const l=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";we(o,"main",[[e,"mousedown","mouseStart",`passive${l}`]])}J.has.touch===!0&&we(o,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;n!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&n.end(),n.handler=t.value),n.direction=pt(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),Le(t,"main"),Le(t,"temp"),J.is.firefox===!0&&Te(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});function Se(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}const bt=150;var Xo=fe({name:"QDrawer",inheritAttrs:!1,props:{...Po,...Ee,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Io,"onLayout","miniState"],setup(e,{slots:t,emit:n,attrs:a}){const o=oe(),{proxy:{$q:l}}=o,r=_e(e,l),{preventBodyScroll:d}=jo(),{registerTimeout:y,removeTimeout:p}=No(),i=Be(xt,le);if(i===le)return console.error("QDrawer needs to be child of QLayout"),le;let b,T=null,x;const k=D(e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint),P=m(()=>e.mini===!0&&k.value!==!0),V=m(()=>P.value===!0?e.miniWidth:e.width),C=D(e.showIfAbove===!0&&k.value===!1?!0:e.modelValue===!0),w=m(()=>e.persistent!==!0&&(k.value===!0||F.value===!0));function A(v,_){if(O(),v!==!1&&i.animate(),G(0),k.value===!0){const Y=i.instances[B.value];Y!==void 0&&Y.belowBreakpoint===!0&&Y.hide(!1),ie(1),i.isContainer.value!==!0&&d(!0)}else ie(0),v!==!1&&Re(!1);y(()=>{v!==!1&&Re(!0),_!==!0&&n("show",v)},bt)}function j(v,_){z(),v!==!1&&i.animate(),ie(0),G(g.value*V.value),$e(),_!==!0?y(()=>{n("hide",v)},bt):p()}const{show:N,hide:R}=Do({showing:C,hideOnRouteChange:w,handleShow:A,handleHide:j}),{addToHistory:O,removeFromHistory:z}=Oo(C,R,w),f={belowBreakpoint:k,hide:R},u=m(()=>e.side==="right"),g=m(()=>(l.lang.rtl===!0?-1:1)*(u.value===!0?1:-1)),h=D(0),q=D(!1),S=D(!1),L=D(V.value*g.value),B=m(()=>u.value===!0?"left":"right"),s=m(()=>C.value===!0&&k.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:V.value:0),M=m(()=>e.overlay===!0||e.miniToOverlay===!0||i.view.value.indexOf(u.value?"R":"L")>-1||l.platform.is.ios===!0&&i.isContainer.value===!0),Q=m(()=>e.overlay===!1&&C.value===!0&&k.value===!1),F=m(()=>e.overlay===!0&&C.value===!0&&k.value===!1),H=m(()=>"fullscreen q-drawer__backdrop"+(C.value===!1&&q.value===!1?" hidden":"")),c=m(()=>({backgroundColor:`rgba(0,0,0,${h.value*.4})`})),I=m(()=>u.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),ee=m(()=>u.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),X=m(()=>{const v={};return i.header.space===!0&&I.value===!1&&(M.value===!0?v.top=`${i.header.offset}px`:i.header.space===!0&&(v.top=`${i.header.size}px`)),i.footer.space===!0&&ee.value===!1&&(M.value===!0?v.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(v.bottom=`${i.footer.size}px`)),v}),W=m(()=>{const v={width:`${V.value}px`,transform:`translateX(${L.value}px)`};return k.value===!0?v:Object.assign(v,X.value)}),re=m(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),Vt=m(()=>`q-drawer q-drawer--${e.side}`+(S.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(r.value===!0?" q-drawer--dark q-dark":"")+(q.value===!0?" no-transition":C.value===!0?"":" q-layout--prevent-focus")+(k.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${P.value===!0?"mini":"standard"}`+(M.value===!0||Q.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(I.value===!0?" q-drawer--top-padding":""))),Rt=m(()=>{const v=l.lang.rtl===!0?e.side:B.value;return[[je,Lt,void 0,{[v]:!0,mouse:!0}]]}),$t=m(()=>{const v=l.lang.rtl===!0?B.value:e.side;return[[je,et,void 0,{[v]:!0,mouse:!0}]]}),Ft=m(()=>{const v=l.lang.rtl===!0?B.value:e.side;return[[je,et,void 0,{[v]:!0,mouse:!0,mouseAllDir:!0}]]});function Ve(){Ot(k,e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint)}$(k,v=>{v===!0?(b=C.value,C.value===!0&&R(!1)):e.overlay===!1&&e.behavior!=="mobile"&&b!==!1&&(C.value===!0?(G(0),ie(0),$e()):N(!1))}),$(()=>e.side,(v,_)=>{i.instances[_]===f&&(i.instances[_]=void 0,i[_].space=!1,i[_].offset=0),i.instances[v]=f,i[v].size=V.value,i[v].space=Q.value,i[v].offset=s.value}),$(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&Ve()}),$(()=>e.behavior+e.breakpoint,Ve),$(i.isContainer,v=>{C.value===!0&&d(v!==!0),v===!0&&Ve()}),$(i.scrollbarWidth,()=>{G(C.value===!0?0:void 0)}),$(s,v=>{ue("offset",v)}),$(Q,v=>{n("onLayout",v),ue("space",v)}),$(u,()=>{G()}),$(V,v=>{G(),Fe(e.miniToOverlay,v)}),$(()=>e.miniToOverlay,v=>{Fe(v,V.value)}),$(()=>l.lang.rtl,()=>{G()}),$(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Tt(),i.animate())}),$(P,v=>{n("miniState",v)});function G(v){v===void 0?te(()=>{v=C.value===!0?0:V.value,G(g.value*v)}):(i.isContainer.value===!0&&u.value===!0&&(k.value===!0||Math.abs(v)===V.value)&&(v+=g.value*i.scrollbarWidth.value),L.value=v)}function ie(v){h.value=v}function Re(v){const _=v===!0?"remove":i.isContainer.value!==!0?"add":"";_!==""&&document.body.classList[_]("q-body--drawer-toggle")}function Tt(){T!==null&&clearTimeout(T),o.proxy&&o.proxy.$el&&o.proxy.$el.classList.add("q-drawer--mini-animate"),S.value=!0,T=setTimeout(()=>{T=null,S.value=!1,o&&o.proxy&&o.proxy.$el&&o.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Lt(v){if(C.value!==!1)return;const _=V.value,Y=Se(v.distance.x,0,_);if(v.isFinal===!0){Y>=Math.min(75,_)===!0?N():(i.animate(),ie(0),G(g.value*_)),q.value=!1;return}G((l.lang.rtl===!0?u.value!==!0:u.value)?Math.max(_-Y,0):Math.min(0,Y-_)),ie(Se(Y/_,0,1)),v.isFirst===!0&&(q.value=!0)}function et(v){if(C.value!==!0)return;const _=V.value,Y=v.direction===e.side,be=(l.lang.rtl===!0?Y!==!0:Y)?Se(v.distance.x,0,_):0;if(v.isFinal===!0){Math.abs(be)<Math.min(75,_)===!0?(i.animate(),ie(1),G(0)):R(),q.value=!1;return}G(g.value*be),ie(Se(1-be/_,0,1)),v.isFirst===!0&&(q.value=!0)}function $e(){d(!1),Re(!0)}function ue(v,_){i.update(e.side,v,_)}function Ot(v,_){v.value!==_&&(v.value=_)}function Fe(v,_){ue("size",v===!0?e.miniWidth:_)}return i.instances[e.side]=f,Fe(e.miniToOverlay,V.value),ue("space",Q.value),ue("offset",s.value),e.showIfAbove===!0&&e.modelValue!==!0&&C.value===!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),ye(()=>{n("onLayout",Q.value),n("miniState",P.value),b=e.showIfAbove===!0;const v=()=>{(C.value===!0?A:j)(!1,!0)};if(i.totalWidth.value!==0){te(v);return}x=$(i.totalWidth,()=>{x(),x=void 0,C.value===!1&&e.showIfAbove===!0&&k.value===!1?N(!1):v()})}),ve(()=>{x!==void 0&&x(),T!==null&&(clearTimeout(T),T=null),C.value===!0&&$e(),i.instances[e.side]===f&&(i.instances[e.side]=void 0,ue("size",0),ue("offset",0),ue("space",!1))}),()=>{const v=[];k.value===!0&&(e.noSwipeOpen===!1&&v.push(no(E("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Rt.value)),v.push(nt("div",{ref:"backdrop",class:H.value,style:c.value,"aria-hidden":"true",onClick:R},void 0,"backdrop",e.noSwipeBackdrop!==!0&&C.value===!0,()=>Ft.value)));const _=P.value===!0&&t.mini!==void 0,Y=[E("div",{...a,key:""+_,class:[re.value,a.class]},_===!0?t.mini():ae(t.default))];return e.elevated===!0&&C.value===!0&&Y.push(E("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),v.push(nt("aside",{ref:"content",class:Vt.value,style:W.value},Y,"contentclose",e.noSwipeClose!==!0&&k.value===!0,()=>$t.value)),E("div",{class:"q-drawer-container"},v)}}}),_t=fe({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=oe(),a=Be(xt,le);if(a===le)return console.error("QPage needs to be a deep child of QLayout"),le;if(Be(lo,le)===le)return console.error("QPage needs to be child of QPageContainer"),le;const l=m(()=>{const d=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof e.styleFn=="function"){const y=a.isContainer.value===!0?a.containerHeight.value:n.screen.height;return e.styleFn(d,y)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-d+"px":n.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":n.screen.height-d+"px"}}),r=m(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>E("main",{class:r.value,style:l.value},ae(t.default))}});const Zo=Ct({setup(){return{width:1500,height:1e3}},props:{horses:{type:Array,required:!0}},data(){return{canvas:null,ctx:null,colors:["red","blue","green","yellow","orange","purple","pink"],images:[]}},methods:{renderAll:function(){if(console.log("rendering all images."),this.canvas===null||this.ctx===null){console.log("canvas or ctx is null.");return}this.ctx.clearRect(0,0,this.width,this.height),this.horses.forEach(e=>{if(e===void 0){console.log("breed is undefined.");return}this.render(e)}),this.horses.forEach(e=>{if(this.canvas===null){console.log("canvas is null.");return}var t=document.getElementById("canvas"),n=t.getContext("2d");if(n===null){console.log("ctx is null.");return}n.drawImage(e.canvas,0,0)})},render:function(e){if(console.log("rendering image: ",e.id),e.canvas===null||e.ctx===null){console.log("canvas or ctx is null.");return}var t=this.scale(e),n=e.bitmap.height*t,a=e.bitmap.width*t;console.log("scale: ",t," height: ",n," width: ",a),e.canvas.height=n,e.canvas.width=a,console.log("drawing image: ",e.id),e.ctx.save(),e.ctx.globalAlpha=.6,e.ctx.drawImage(e.bitmap,0,0,e.bitmap.width,e.bitmap.height,0,0,a,n),this.removeWhite(e),e.ctx.globalAlpha=e.opacity,e.ctx.globalCompositeOperation="source-atop",e.ctx.fillStyle=e.color,e.ctx.fillRect(0,70,e.canvas.width,e.canvas.height-70),e.ctx.restore()},removeWhite:function(e){const t=e.ctx.getImageData(0,0,e.bitmap.width,e.bitmap.height),n=t.data;var a=0;for(let o=0;o<n.length;o+=4){const l=n[o],r=n[o+1],d=n[o+2];l===255&&r===255&&d===255&&(a+=1,n[o+3]=0)}return console.log("removed white pixels: ",a),e.ctx.putImageData(t,0,0),e},scale:function(e){var t=1,n=1,a=1;return e.bitmap.width>window.innerWidth&&(n=window.innerWidth/e.bitmap.width),e.bitmap.height>window.innerHeight&&(a=window.innerHeight/e.bitmap.height),n<t&&(t=n),a<t&&(t=a),t}},mounted(){if(console.log("mounted horse viewer"),this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.ctx===null){console.log("ctx is null.");return}this.ctx.globalAlpha=1,this.renderAll()},updated(){console.log("updated horse viewer"),this.renderAll()}}),Go=Bt("canvas",{id:"canvas",width:1500,height:1e3},null,-1);function Jo(e,t,n,a,o,l){return he(),We(_t,{class:"row"},{default:ne(()=>[Z(Mt,null,{default:ne(()=>[(he(!0),Ke(Qe,null,St(e.horses,r=>(he(),We(Ye,{class:"q-pa-none",key:r.title,onVnodeMounted:t[0]||(t[0]=d=>e.renderAll())}))),128))]),_:1}),Go]),_:1})}var en=qt(Zo,[["render",Jo]]);const tn=/((\w+%\d+)+x(%\d+\w+%\d+)+)Breeding/,on=Ct({name:"IndexPage",components:{HorseViewer:en},data(){return{horses:[],newBreed:"",colors:["red","blue","green","yellow","orange","purple","pink"],currId:0,exists:!1}},setup(){return{open:D(!0),width:1500,height:1e3,defaultOpacity:.5}},methods:{download:function(){console.log("Downloading graph.")},show:function(e){console.log("showing horse: ",e.id),this.horses.forEach(t=>{if(t.id===e.id){this.highlight(t);return}else t.opacity=this.defaultOpacity})},highlight:function(e){console.log("highlighting horse: ",e.id);var t=this.horses;t.forEach(n=>{n.ctx.clearRect(0,0,this.width,this.height),n.id===e.id?n.opacity=1:n.opacity=.2}),this.horses=[],t.forEach(n=>{this.addHorse(n.id,n.bitmap,n.title,n.url,n.opacity)})},addHorse:function(e,t,n,a,o){if(console.log("Adding image with id: ",e,"."),o===void 0?o=this.defaultOpacity:console.log("Opacity: ",o),this.horses.forEach(d=>{if(n===d.title){console.log("Breed already exists."),this.$q.notify({message:"Breed already exists.",color:"red",icon:"report_problem"}),this.exists=!0;return}}),this.exists){this.exists=!1;return}var l=document.createElement("canvas");l.width=this.width,l.height=this.height;var r=l.getContext("2d");if(r===null){console.log("ctx is null.");return}this.horses.push({id:e,canvas:l,opacity:o,ctx:r,bitmap:t,url:a,color:this.colors[e],title:n}),this.newBreed=""},removeHorse:function(e){console.log("Removing image with id: ",e,"."),this.horses=this.horses.filter(t=>t.id!==e)},process:function(e){if(e===""){console.log("url is empty.");return}e=e.trim(),fetch("http://localhost:8080/fetch",{method:"POST",headers:{"Access-Control-Allow-Origin":"*"},body:e}).then(t=>{if(t.body===null){console.log("Body is null.");return}t.arrayBuffer().then(n=>{if(n.byteLength===0){console.log("Fetched Image is empty.");return}console.log("Fetched Image is not empty: ",n.byteLength," bytes. ");var a=e.match(tn),o="Breed "+this.currId.toString();if(a!==null){o=a[1].replaceAll("%20"," ").trim();const l=new Blob([n],{type:"image/png"});createImageBitmap(l).then(r=>{this.addHorse(this.currId,r,o,URL.createObjectURL(l)),this.currId++},r=>{console.log("error: ",r)})}else this.$q.notify({message:"Horse names not found.",color:"negative",icon:"report_problem"}),console.log("No names found.")}),console.log("response",t.body)}).catch(t=>{console.log("error",t)})}}}),nn={class:"text-h6"};function ln(e,t,n,a,o,l){const r=ao("horse-viewer");return he(),Ke(Qe,null,[Z(Xo,{modelValue:e.open,"onUpdate:modelValue":t[2]||(t[2]=d=>e.open=d),behavior:"desktop",persistent:"",bordered:""},{default:ne(()=>[(he(!0),Ke(Qe,null,St(e.horses,d=>(he(),We(Mt,{key:d.id},{default:ne(()=>[Z(Ye,{class:"q-pb-md"},{default:ne(()=>[Z(lt,null,{default:ne(()=>[Bt("div",nn,ro(d.title),1),Z(co,{style:{height:"20px"},spread:""},{default:ne(()=>[Z(Oe,{color:d.color,icon:"fa-solid fa-eye",label:"Show",onClick:y=>e.show(d)},null,8,["color","onClick"]),Z(Oe,{color:d.color,icon:"delete",label:"Remove",onClick:y=>e.removeHorse(d.id)},null,8,["color","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),Z(Ye,null,{default:ne(()=>[Z(lt,null,{default:ne(()=>[Z(Lo,{modelValue:e.newBreed,"onUpdate:modelValue":[t[0]||(t[0]=d=>e.newBreed=d),t[1]||(t[1]=d=>e.process(e.newBreed))],outlined:"",label:"Add Graph",debounce:"300"},null,8,["modelValue"]),Z(Oe,{class:"q-mt-sm",color:"primary",icon:"download",label:"Download Graph",onClick:e.download,disable:e.horses.length===0},null,8,["onClick","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Z(_t,{class:"row"},{default:ne(()=>[Z(r,{horses:e.horses},null,8,["horses"])]),_:1})],64)}var sn=qt(on,[["render",ln]]);export{sn as default};
